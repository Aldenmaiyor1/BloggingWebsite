<link rel="stylesheet" href="/css/nav.css">

<div style="border: 1px solid " class="user-container">
    <div class="user-label">
        <img src="{{user.icon_path}}" alt="avatar">
        <p><strong>{{user.fname}} {{user.lname}}</strong></p>
    </div>

    <ul>
        <div>
            <p id="infor-label"><strong>Basic information</strong></p>
            <li>DOB: {{user.DOB}}</li>
            {{#if gender}}
            <li>Gender: Female{{this.gender}}</li>
            {{/if}}
        </div>
        <li>Email: {{user.email}}</li>
        {{#if information}}
        {{#if bio}}
        <li>Bio: {{this.bio}}</li>
        {{/if}}
        {{#if address}}
        <li>Address: {{this.address}}</li>
        {{/if}}
        {{/if}}
    </ul>
</div>


{{!-- Following sections on the right side --}}
<div style="border: 1px solid; margin=10px">
    <h2>Subscribers</h2>
    {{#if subscribers}}
    <div>
        <p>You have {{this.total_subscribers}} subscribers in total.</p>
        <a href="/sub">See all!</a>
    </div>
    {{else}}
    <p>You have no subscribers!</p>
    {{/if}}
</div>

{{!-- Options section --}}
<div id="inforForm" style="border: 1px solid green">
    <button type="submit">Update information</button>

    <form action="/update_info" method="post" id="information">
        <p><strong>Update information</strong></p>

        <label for="bio">Bio:</label>
        <textarea name="bio" id="bio" cols="30" rows="10" maxlength="160"></textarea>

        <label for="gender">Gender:</label>
        <select name="gender" id="gender">
            <option value=""></option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Non-binary">Non-Binary</option>
        </select>

        <label for="address">Address</label>
        <input type="text" name="address" id="address">

        <button type="submit">Save changes</button>
    </form>

</div>

<div style="border: 1px solid red; margin=10px">
    <h2>Following</h2>
    {{#if followings}}
    <div>
        <p>You are following {{this.total_followings}} people.</p>

        <a href="/sub">See all!</a>
        {{#each subscribers}}
        <div style="border: 1px solid blue;">
            <img src="{{this.icon_path}}" alt="subsciber avatar" width="20px">
            <p>{{this.username}}</p>
            <p>{{this.bio}}</p>
            <p>{{this.total_followers}} Followers</p>
            <button>Following</button>
        </div>
        {{/each}}
    </div>
    {{else}}
    <p>You are not following anyone!</p>
    {{/if}}
</div>

<div style="border: 1px solid green;">
    <button type="submit">Update password</button>
    <button type="submit">Delete account</button>
</div>
