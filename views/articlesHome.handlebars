<div id="home_container">

    {{#if user}}
    <input value="{{user.id}}" name="user_id" id="current_user_id" hidden>
    <div>
        <h1>Hello, {{user.fname}}!</h1>
        <p>This is your homepage!</p>
    </div>
    {{/if}}

    <a href="/writeArticle">Write a new article</a>
    <br>
    
    <div>
    <form action="/filtered-articles" method="GET">
    <label for="startDate">Start Date:</label>
    <input type="date" name="startDate" id="startDate">

    <label for="endDate">End Date:</label>
    <input type="date" name="endDate" id="endDate">

    <button type="submit" id="dateInput">Filter Articles</button>
    </form>
    </div>


    <h1 id="category_nav">
        {{#if current_category}}
        <div id="specific_category_title">
            <span id="all_articles_category"><a href="/">All Articles</a></span> / <span
                id="current_category">{{current_category}}</span>
        </div>
        {{else}}
        <div id="home_title">Explore All Articles</div>
        {{/if}}
    </h1>

    <div id="articles">
        <div id="top5_articles">
            <h2 id="top5_block_title">Top 5 Popular Articles</h2>
            {{#each top5Articles}}
            <div class="each-top5Articles">
                <div id="background_image"></div>
                <div id="article_title">{{this.title}}</div>
                <div><img src="/images/article-images/thumbnails/{{this.image}}" alt="{{this.image}}"></div>
                <div id="article_description">{{{this.content_html}}}</div>
                {{!-- No category data? --}}
                {{!-- <div id="article_category">{{this.article_category}}</div> --}}
                <div id="btn_readmore">
                    <a href="/article/{{this.id}}">Read more</a>
                </div>
            </div>
            {{/each}}
        </div>

        <div id="all_articles">
            <h2 id="main_block_title">Explore More Articles</h2>
            {{#each articleData}}
            <div id="each-articleData">
                <div class="btn_sub_option">
                    {{!-- {{#isEqual user.id this.author_id}} --}}
                    <a href="/profile?id={{this.author_id}}" id="authorData">
                        <div id="author_icon"><img src="{{this.icon_path}}"></div>
                        <div id="author_name">{{this.fname}} {{this.lname}}</div>
                    </a>
                    {{!-- {{else}}
                    <a href="/my_profile" id="authorData">
                        <div id="author_icon"><img src="{{this.icon_path}}"></div>
                        <div id="author_name">{{this.fname}} {{this.lname}}</div>
                    </a>
                    {{/isEqual}} --}}
                    <div class="btn_subscribe">
                        <input value="{{this.author_id}}" name="author_id" class="article_author_id" hidden>
                    </div>
                </div>


                <div id="article_title">{{this.title}}</div>
                <div id="article_description">{{{this.content_html}}}</div>
                {{!-- No category information yet --}}
                {{!-- <div id="article_category">{{this.article_category}}</div> --}}
                <div id="article_timestamp">{{this.date_of_publish}}</div>
                <div id="btn_readmore">
                    <a href="/article/{{this.id}}">Read more</a>
                </div>
            </div>
            {{/each}}


            <div id="sidebar">
                <div id="sidebar_title">More to explore</div>
                <div id="sidebar_category_container">
                    {{#each categoryData}}
                    <div class="categoryData">
                        {{this.category}}
                    </div>
                    {{/each}}
                </div>
            </div>


        </div>
    </div>
</div>

<script src="/script/articlesHome.js"></script>
